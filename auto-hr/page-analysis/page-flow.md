# 页面流程分析

## 当前已知流程

### 1. 申请人列表页面
**URL**: `https://hr.shixiseng.com/*`

**页面元素**:
- 顶部筛选条件 (新简历、初筛、笔试、面试、录用、不合适)
- 申请人卡片列表，每个卡片包含：
  - 头像
  - 姓名 (如: WYCX, 党国军)
  - 年龄 (如: 21岁)
  - 现居地 (如: 石家庄, 沈阳)
  - 实习经历 (如: 实习0次)
  - 可到岗时间 (如: 1个月内到岗, 3-6个月, 5天/周)
  - 教育经历和主要经历
  - 操作按钮: 沟通、通过初筛、不合适

### 2. 沟通流程 (待完善)
**触发**: 点击申请人卡片上的"沟通"按钮

**预期流程**:
1. 点击"沟通"按钮
2. 可能打开新页面或弹窗
3. 显示聊天界面
4. 自动发送预设消息

### 3. 申请人详情 (待分析)
**可能的触发方式**:
- 点击申请人姓名
- 点击头像
- 专门的"查看详情"按钮

## 自动化策略

### 数据收集策略
1. **页面加载时**: 扫描当前页面所有申请人卡片
2. **滚动加载**: 监听页面滚动，处理新加载的申请人
3. **筛选切换**: 监听筛选条件变化，重新扫描页面

### 自动回复策略
1. **批量处理**: 遍历所有申请人，逐个点击"沟通"按钮
2. **延迟控制**: 添加随机延迟避免被系统检测
3. **状态记录**: 记录已处理的申请人，避免重复操作

### 联系方式获取策略
1. **列表页面提取**: 从申请人卡片直接提取可见信息
2. **详情页面提取**: 点击进入详情页面获取完整联系方式
3. **聊天记录提取**: 从聊天记录中提取申请人主动提供的联系方式

## 需要进一步分析的页面

### 1. 消息/聊天界面
- [ ] 消息输入框的结构
- [ ] 发送按钮的选择器
- [ ] 消息历史的展示方式
- [ ] 申请人信息在聊天页面的展示

### 2. 申请人详情页面
- [ ] 详细联系方式的展示位置
- [ ] 完整简历信息的结构
- [ ] 操作按钮的布局

### 3. 特殊情况处理
- [ ] 加载中状态的识别
- [ ] 错误提示的处理
- [ ] 权限限制的识别
- [ ] 网络异常的处理

## 技术实现要点

### 1. 页面元素识别
- 使用多种选择器策略提高识别成功率
- 添加容错机制处理页面结构变化
- 定期验证选择器的有效性

### 2. 用户体验
- 提供清晰的操作反馈
- 允许用户控制自动化程度
- 提供手动干预选项

### 3. 数据准确性
- 多重验证提取的数据格式
- 记录数据来源和提取时间
- 提供数据修正功能